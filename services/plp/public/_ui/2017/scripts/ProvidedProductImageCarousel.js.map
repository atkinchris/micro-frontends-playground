{"version":3,"sources":["webpack:///./scripts/components/ProductImageCarousel/ProductImageCarousel.connected.js","webpack:///./scripts/components/ProductImageCarousel/ProductImageCarousel.container.js","webpack:///./scripts/components/ProductImageCarousel/index.js","webpack:///./scripts/components/ProductMediaInitiator/ProductMediaInitiator.connected.js","webpack:///./scripts/components/ProductMediaInitiator/ProductMediaInitiator.container.js","webpack:///./scripts/components/ProductMediaInitiator/index.js","webpack:///./scripts/mountPoints/ProductImageCarousel/ProvidedProductImageCarousel.js","webpack:///./scripts/mountPoints/redux.proptypes.js"],"names":["mapStateToProps","productImages","productCode","imageUrls","ConnectedProductImageCarousel","connect","ProductImageCarouselContainer","applyRangeConstraint","num","min","max","Math","calculateInitialPosition","offsetX","offsetY","width","height","zoomWidth","lensDimensions","scaleFactor","zoomHeight","y","x","zoomEnabled","suppressThumbnails","React","useState","zoomImageProps","setZoomImageProps","showOverlay","setShowOverlay","onImageClick","event","index","target","nativeEvent","zoomImageUrls","zoom","alt","jpg","position","top","left","altText","errorMessage","lensStyle","maxWidth","maxHeight","propTypes","PropTypes","arrayOf","shape","imageUrlShape","isRequired","number","bool","defaultProps","ProductImageCarousel","mapDispatchToProps","dispatch","imagerySku","productName","requestProductMediaData","requestProductMedia","ConnectedProductMediaInitiator","ProductMediaInitiator","useEffect","string","func","ProvidedProductImageCarousel","store","reduxStoreShape","subscribe","getState"],"mappings":"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","file":"ProvidedProductImageCarousel.js","sourcesContent":["import { connect } from 'react-redux';\nimport ProductImageCarouselContainer from './ProductImageCarousel.container';\n\nconst mapStateToProps = ({ productImages }, { productCode }) => {\n  const { imageUrls = [] } = productImages[productCode] || {};\n\n  return {\n    imageUrls\n  };\n};\n\nconst ConnectedProductImageCarousel = connect(mapStateToProps, null)(ProductImageCarouselContainer);\n\nexport default ConnectedProductImageCarousel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Carousel, { imageUrlShape } from '@tuui/carousel';\nimport Overlay from '@tuui/overlay';\nimport Zoom from '@tuui/image-zoom';\n\nimport '@tuui/carousel/dist/Carousel.min.css';\nimport '@tuui/overlay/dist/Overlay.min.css';\nimport '@tuui/image-zoom/dist/ImageZoom.min.css';\n\nconst applyRangeConstraint = (num, min, max) => Math.min(Math.max(num, min), max);\n\nconst calculateInitialPosition = (offsetX, offsetY, width, height, zoomWidth, lensDimensions) => {\n  const scaleFactor = zoomWidth / width;\n  const zoomHeight = scaleFactor * height;\n  const y = applyRangeConstraint(-(offsetY * scaleFactor) + lensDimensions.height / 2, -zoomHeight + lensDimensions.height, 0);\n  const x = applyRangeConstraint(-(offsetX * scaleFactor) + lensDimensions.height / 2, -zoomWidth + lensDimensions.width, 0);\n\n  return { x, y };\n};\n\nconst ProductImageCarouselContainer = ({ zoomEnabled, lensDimensions, imageUrls, suppressThumbnails }) => {\n  const [zoomImageProps, setZoomImageProps] = React.useState({});\n  const [showOverlay, setShowOverlay] = React.useState(false);\n\n  const onImageClick = (event, index) => {\n    const {\n      target: { width, height },\n      nativeEvent: { offsetX, offsetY }\n    } = event;\n    const { zoom: zoomImageUrls, alt } = imageUrls[index];\n    const { jpg: [{ width: zoomWidth }] } = zoomImageUrls;\n    const { x, y } = calculateInitialPosition(offsetX, offsetY, width, height, zoomWidth, lensDimensions);\n\n    setZoomImageProps({\n      position: { top: `${y}px`, left: `${x}px` },\n      imageUrls: zoomImageUrls,\n      altText: alt,\n      errorMessage: 'Something went wrong'\n    });\n\n    setShowOverlay(true);\n  };\n\n  const lensStyle = {\n    width: '100vw',\n    height: '100vh',\n    maxWidth: `${lensDimensions.width}px`,\n    maxHeight: `${lensDimensions.height}px`,\n  };\n\n  return (\n    <>\n      <Carousel imageUrls={imageUrls} onImageClick={onImageClick} suppressThumbnails={suppressThumbnails} />\n      {zoomEnabled && (\n        <Overlay open={showOverlay} onClose={() => setShowOverlay(false)}>\n          <div\n            className='tu-c-pdp-product-image-carousel__zoom-lens'\n            data-testid='zoomLens'\n            style={lensStyle}\n          >\n            <Zoom {...zoomImageProps} />\n          </div>\n        </Overlay>\n      )}\n    </>\n  );\n};\n\nProductImageCarouselContainer.propTypes = {\n  imageUrls: PropTypes.arrayOf(PropTypes.shape(imageUrlShape)).isRequired,\n  lensDimensions: PropTypes.shape({\n    width: PropTypes.number,\n    height: PropTypes.number\n  }),\n  zoomEnabled: PropTypes.bool.isRequired,\n  suppressThumbnails: PropTypes.bool.isRequired,\n};\n\nProductImageCarouselContainer.defaultProps = {\n  lensDimensions: {\n    width: 700,\n    height: 700\n  },\n};\n\nexport default ProductImageCarouselContainer;\n","import ProductImageCarousel from './ProductImageCarousel.connected';\n\nexport default ProductImageCarousel;\n","import { connect } from 'react-redux';\n\nimport ProductMediaInitiator from './ProductMediaInitiator.container';\nimport { requestProductMedia } from '../../actions/productMediaActions';\n\nconst mapDispatchToProps = (dispatch, { imagerySku, productName }) => ({\n  requestProductMediaData: () => dispatch(requestProductMedia(imagerySku, productName))\n});\n\nconst ConnectedProductMediaInitiator = connect(null, mapDispatchToProps)(ProductMediaInitiator);\n\nexport default ConnectedProductMediaInitiator;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ProductMediaInitiator = ({\n  imagerySku, productName, requestProductMediaData\n}) => {\n  React.useEffect(\n    () => {\n      requestProductMediaData(imagerySku, productName);\n    },\n    []\n  );\n\n  return null;\n};\n\nProductMediaInitiator.propTypes = {\n  imagerySku: PropTypes.string.isRequired,\n  productName: PropTypes.string.isRequired,\n  requestProductMediaData: PropTypes.func.isRequired\n};\n\nexport default ProductMediaInitiator;\n","import ConnectedProductMediaInitiator from './ProductMediaInitiator.connected';\n\nexport default ConnectedProductMediaInitiator;\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { reduxStoreShape } from '../redux.proptypes';\n\nimport ConnectedProductImageCarousel from '../../components/ProductImageCarousel';\nimport ProductMediaInitiator from '../../components/ProductMediaInitiator';\n\nconst ProvidedProductImageCarousel = ({\n  store, imagerySku, productName, zoomEnabled, suppressThumbnails\n}) => (\n  <Provider store={store}>\n    <ProductMediaInitiator imagerySku={imagerySku} productName={productName} />\n    <ConnectedProductImageCarousel productCode={imagerySku} zoomEnabled={zoomEnabled} suppressThumbnails={suppressThumbnails} />\n  </Provider>\n);\n\nProvidedProductImageCarousel.propTypes = {\n  store: reduxStoreShape.isRequired,\n  imagerySku: PropTypes.string.isRequired,\n  productName: PropTypes.string.isRequired,\n  zoomEnabled: PropTypes.bool,\n  suppressThumbnails: PropTypes.bool,\n};\n\nProvidedProductImageCarousel.defaultProps = {\n  zoomEnabled: true,\n  suppressThumbnails: false,\n};\n\nexport default ProvidedProductImageCarousel;\n","import PropTypes from 'prop-types';\n\nconst reduxStoreShape = PropTypes.shape({\n  subscribe: PropTypes.func.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  getState: PropTypes.func.isRequired\n});\n\nexport {\n  reduxStoreShape\n};\n"],"sourceRoot":""}
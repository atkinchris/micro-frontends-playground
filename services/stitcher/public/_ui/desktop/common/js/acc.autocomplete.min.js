ACC.autocomplete={bindAll:function(){this.bindSearchAutocomplete()},bindSearchAutocomplete:function(){var e=$("#search");if(1==e.length){var t=e.data("options"),a={};e[e.val().length>0?"addClass":"removeClass"]("active-search-autocomplete"),$("#close-autosearch").click(function(){$("#close-autosearch").hide(),$(".siteSearch .ui-menu").hide()}),e.autocomplete({minLength:t.minCharactersBeforeRequest,delay:t.waitTimeBeforeRequest,appendTo:".siteSearch",source:function(o,c){var u=o.term.toLowerCase();return e[u.length>0?"addClass":"removeClass"]("active-search-autocomplete"),0==u.length&&($("#close-autosearch").hide(),$(".siteSearch .ui-menu").hide()),u.length<3?void 0:u in a?c(a[u]):void $.getJSON(t.autocompleteUrl,{term:o.term},function(e){var t=[];return null!=e.suggestions&&$.each(e.suggestions,function(e,a){t.push({value:a.term,url:ACC.config.contextPath+"/search?text="+a.term,type:"autoSuggestion"})}),null!=e.products&&$.each(e.products,function(e,a){t.push({value:a.name,code:a.code,desc:a.description,manufacturer:a.manufacturer,url:ACC.config.contextPath+a.url,price:a.price.formattedValue,type:"productResult"})}),a[u]=t,c(t)})},focus:function(){return!1},select:function(e,t){window.location.href=t.item.url}}).data("autocomplete")._renderItem=function(e,t){if("autoSuggestion"==t.type)return a="<a href='?q="+t.value+"' class='clearfix'>"+t.value+"</a>",$("<li class='suggestions'>").data("item.autocomplete",t).append(a).appendTo(e);if("productResult"==t.type){$("#close-autosearch").show();var a="<a href='"+ACC.config.contextPath+t.url+"' class='product clearfix'>";return a+=t.value+"</a>",$("<li class='product'>").data("item.autocomplete",t).append(a).appendTo(e)}}}}},$(document).ready(function(){ACC.autocomplete.bindAll()});
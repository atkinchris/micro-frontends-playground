(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{342:function(e,t,a){"use strict";a.r(t);a(12),a(53),a(56),a(44),a(11),a(49),a(54),a(57),a(140),a(48);var r=a(0),n=a.n(r),l=a(2),c=a.n(l),o=n.a.memo((function(e){var t=e.isError,a=e.errorMessage;return n.a.createElement("div",{className:"ln-c-field-info--block ln-c-field-info--white".concat(t?" has-error":"")},n.a.createElement("div",{className:"ln-c-field-info ln-u-1/1 ln-c-field-info--error"},n.a.createElement("div",{className:"ln-u-display-inline-block ln-u-soft"},n.a.createElement("p",{className:"ln-u-h4 ln-u-flush-bottom"},a))))}));o.propTypes={isError:c.a.bool.isRequired,errorMessage:c.a.string.isRequired};var i=o,u=(a(41),a(107),a(52)),s=n.a.memo((function(e){var t=e.items,a=void 0===t?[]:t;return n.a.createElement(n.a.Fragment,null,a.length>0&&n.a.createElement("ul",{className:"tu-c-autocomplete ln-c-search ln-u-display-flex ln-u-flex-direction-col ln-u-1/1 tu-u-background--white"},a.map((function(e){return n.a.createElement("li",{className:"ln-u-border ln-u-border--lightgray ln-u-soft",key:e.code},n.a.createElement("a",{href:e.url,className:"ln-u-display-flex ln-u-align-items-center ln-u-justify-content-space-between ln-o-bare-link"},n.a.createElement("span",null,e.name),n.a.createElement(u.a,{classes:"ln-c-icon",icon:"chevlon-right",viewBox:"-3 -6 16 24"})))}))))}));s.propTypes={items:c.a.instanceOf(Array).isRequired};var m=s,d=a(141),p=a(37),f=(a(21),{url:{blog:"https://tustyle.sainsburys.co.uk/search/",product:"/search"},button:{text:"Search",setUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(f.url.product,"?text=").concat(e)}},errorMessage:"Please only use valid search text",autoCompleteURL:"/search/autocomplete/MobileSearchBox"}),h=f,b=a(90);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.default=function(){var e=g(Object(r.useState)(""),2),t=e[0],a=e[1],l=g(Object(r.useState)([]),2),c=l[0],o=l[1];return n.a.createElement("form",{className:"ln-o-grid ln-o-grid--gutter-zero ln-u-border-bottom ln-c-search",onSubmit:function(e){e.preventDefault(),location.replace(h.button.setUrl(t,"product"))}},n.a.createElement("div",{className:"ln-o-grid__item ln-u-2/3"},n.a.createElement("input",{"data-testid":"searchBox",className:"ln-c-text-input",autoComplete:"off",placeholder:"Search",maxLength:"100",type:"text",name:"searchText",onChange:function(e){a(e.target.value),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";0!==e.length&&Object(d.a)(e,b.a.regexPatterns.alphanumeric)?Object(p.a)(h.autoCompleteURL,{term:e}).then((function(e){e.data&&e.data.products&&o(e.data.products)})).catch((function(){o([])})):o([])}(e.target.value)}})),n.a.createElement("div",{className:"ln-o-grid__item ln-u-1/3"},n.a.createElement("button",{type:"submit","data-testid":"searchButton",className:"ln-c-button ln-c-button--primary tu-u-background--black",disabled:0===t.length||!Object(d.a)(t,b.a.regexPatterns.alphanumeric)},h.button.text)),n.a.createElement("div",{className:"ln-o-grid__item ln-u-1/1"},n.a.createElement(i,{isError:t.length>0&&!Object(d.a)(t,b.a.regexPatterns.alphanumeric),errorMessage:h.errorMessage}),n.a.createElement(m,{items:c})))}}}]);
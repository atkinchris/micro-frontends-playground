{"version":3,"sources":["webpack:///./scripts/components/MobileNav/config/search.js","webpack:///./scripts/components/MobileNav/presentational/AutoComplete.jsx","webpack:///./scripts/components/MobileNav/presentational/SearchBox.jsx","webpack:///./scripts/presentational/ErrorMessage.jsx"],"names":["config","url","blog","product","button","text","setUrl","value","errorMessage","autoCompleteURL","AutoComplete","React","memo","items","length","map","item","code","name","propTypes","PropTypes","instanceOf","Array","isRequired","SearchBox","useState","searchValue","setSearchValue","autoCompleteData","setautoComplete","coreUrl","getAutoComplete","isError","errors","regexPatterns","alphanumeric","fetch","term","then","res","data","products","catch","e","preventDefault","location","replace","target","ErrorMessage","bool","string"],"mappings":"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","file":"SearchBox.js","sourcesContent":["const config = {\n  url: {\n    blog: 'https://tustyle.sainsburys.co.uk/search/',\n    product: '/search'\n  },\n  button: {\n    text: 'Search',\n    setUrl: (value = '') => `${config.url.product}?text=${value}`\n  },\n  errorMessage: 'Please only use valid search text',\n  autoCompleteURL: '/search/autocomplete/MobileSearchBox'\n};\n\nexport default config;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../presentational/Icon';\n\nconst AutoComplete = React.memo(({ items = [] }) => (\n  <React.Fragment>\n    { items.length > 0\n        && (\n        <ul className='tu-c-autocomplete ln-c-search ln-u-display-flex ln-u-flex-direction-col ln-u-1/1 tu-u-background--white'>\n          {items.map(item => (\n            <li className='ln-u-border ln-u-border--lightgray ln-u-soft' key={item.code}>\n              <a href={item.url} className='ln-u-display-flex ln-u-align-items-center ln-u-justify-content-space-between ln-o-bare-link'>\n                <span>{item.name}</span>\n                <Icon classes='ln-c-icon' icon='chevlon-right' viewBox='-3 -6 16 24' />\n              </a>\n            </li>\n          ))}\n        </ul>\n        )\n    }\n  </React.Fragment>\n));\n\nAutoComplete.propTypes = {\n  items: PropTypes.instanceOf(Array).isRequired\n};\nexport default AutoComplete;\n","import React, { useState } from 'react';\nimport ErrorMessage from '../../../presentational/ErrorMessage';\nimport AutoComplete from './AutoComplete';\nimport isError from '../../../helpers/isError';\nimport fetch from '../../../helpers/axiosGetHelper';\nimport config from '../config/search';\nimport errors from '../../../config/errors';\n\nconst SearchBox = () => {\n  const [searchValue, setSearchValue] = useState('');\n  const [autoCompleteData, setautoComplete] = useState([]);\n  const coreUrl = 'product';\n\n  const getAutoComplete = (value = '') => {\n    if (value.length === 0 || !isError(value, errors.regexPatterns.alphanumeric)) {\n      setautoComplete([]);\n    } else {\n      fetch(config.autoCompleteURL, { term: value }).then((res) => {\n        if (res.data && res.data.products) {\n          setautoComplete(res.data.products);\n        }\n      }).catch(() => {\n        setautoComplete([]);\n      });\n    }\n  };\n\n  return (\n    <form className='ln-o-grid ln-o-grid--gutter-zero ln-u-border-bottom ln-c-search' onSubmit={(e) => { e.preventDefault(); location.replace(config.button.setUrl(searchValue, coreUrl)); }}>\n      <div className='ln-o-grid__item ln-u-2/3'>\n        <input\n          data-testid='searchBox'\n          className='ln-c-text-input'\n          autoComplete='off'\n          placeholder='Search'\n          maxLength='100'\n          type='text'\n          name='searchText'\n          onChange={(e) => {\n            setSearchValue(e.target.value);\n            getAutoComplete(e.target.value);\n          }}\n        />\n      </div>\n      <div className='ln-o-grid__item ln-u-1/3'>\n        <button type='submit' data-testid='searchButton' className='ln-c-button ln-c-button--primary tu-u-background--black' disabled={(searchValue.length === 0 || !isError(searchValue, errors.regexPatterns.alphanumeric))}>{config.button.text}</button>\n      </div>\n      <div className='ln-o-grid__item ln-u-1/1'>\n        <ErrorMessage isError={(searchValue.length > 0 && !isError(searchValue, errors.regexPatterns.alphanumeric))} errorMessage={config.errorMessage} />\n        <AutoComplete items={autoCompleteData} />\n      </div>\n    </form>\n  );\n};\n\nexport default SearchBox;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorMessage = React.memo(({ isError, errorMessage }) => (\n  <div className={`ln-c-field-info--block ln-c-field-info--white${isError ? ' has-error' : ''}`}>\n    <div className='ln-c-field-info ln-u-1/1 ln-c-field-info--error'>\n      <div className='ln-u-display-inline-block ln-u-soft'>\n        <p className='ln-u-h4 ln-u-flush-bottom'>{errorMessage}</p>\n      </div>\n    </div>\n  </div>\n));\n\nErrorMessage.propTypes = {\n  isError: PropTypes.bool.isRequired,\n  errorMessage: PropTypes.string.isRequired,\n};\n\nexport default ErrorMessage;\n"],"sourceRoot":""}
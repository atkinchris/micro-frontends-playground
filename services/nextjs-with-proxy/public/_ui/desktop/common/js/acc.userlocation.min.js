ACC.userlocation={bindAll:function(){ACC.userlocation.bindUserLocationSearchButtonClick(),ACC.userlocation.bindUserLocationEnterPress(),ACC.userlocation.bindAutoLocationSearchButtonClick($("#findStoresNearMe"))},bindUserLocationEnterPress:function(){$("#user_location_query").keypress(function(o){var e=null;return e=o.keyCode?o.keyCode:o.which,13==e?($.ajax({url:searchUserLocationUrl,type:"GET",data:{q:$("#user_location_query").attr("value")},success:function(){location.reload()}}),!1):void 0})},bindUserLocationSearchButtonClick:function(){$("#user_location_query_button").click(function(){$.ajax({url:searchUserLocationUrl,type:"GET",data:{q:$("#user_location_query").attr("value")},success:function(){location.reload()}})})},bindAutoLocationSearchButtonClick:function(o){o.length>0&&o.click(function(o){o.preventDefault();var e=navigator.geolocation;e&&e.getCurrentPosition(ACC.userlocation.positionSuccessStoresNearMe,function(o){console.log("An error occurred... The error code and message are: "+o.code+"/"+o.message)})})},positionSuccessStoresNearMe:function(o){return $("#latitude").val(o.coords.latitude),$("#longitude").val(o.coords.longitude),"undefined"!=typeof autoUserLocationUrl&&$.ajax({url:autoUserLocationUrl,type:"POST",data:{latitude:o.coords.latitude,longitude:o.coords.longitude},success:function(){location.reload()}}),!1}},$(document).ready(function(){ACC.userlocation.bindAll()});